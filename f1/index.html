<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RNZZ — F1 Neon GP</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">RNZZ <span>F1 NEON GP</span></div>
      <div class="sub">Arrow keys / WASD • Shift = Nitro • Space = Pause • R = Restart • Enter = Start</div>
    </div>

    <div class="pills">
      <span class="pill">Local Best: <b id="best">0</b></span>
      <span class="pill pill-live"><span class="dot"></span> LIVE</span>
    </div>
  </header>

  <main class="layout">
    <!-- LEFT: HUD -->
    <aside class="hud">
      <div class="card">
        <div class="card-title">Telemetry</div>

        <div class="telemetry">
          <div class="stat">
            <div class="label">Speed</div>
            <div class="value"><span id="speed">0</span><span class="unit"> km/h</span></div>
          </div>

          <div class="stat">
            <div class="label">Score</div>
            <div class="value"><span id="score">0</span></div>
          </div>

          <div class="stat">
            <div class="label">HP</div>
            <div class="value"><span id="hp">100</span><span class="unit">%</span></div>
            <div class="bar">
              <div class="bar-fill" id="hpBar" style="width:100%"></div>
            </div>
          </div>

          <div class="stat">
            <div class="label">Combo</div>
            <div class="value"><span id="combo">x1</span></div>
          </div>

          <div class="stat">
            <div class="label">Nitro</div>
            <div class="value"><span id="nitro">READY</span></div>
            <div class="bar bar-nitro">
              <div class="bar-fill" id="nitroBar" style="width:100%"></div>
            </div>
          </div>
        </div>

        <div class="hint">
          <div class="keys">
            <span class="kbd">←</span><span class="kbd">→</span> steer
            <span class="kbd">↑</span> accel
            <span class="kbd">↓</span> brake
            <span class="kbd">Shift</span> nitro
            <span class="kbd">Space</span> pause
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">Race Control</div>
        <div class="rc">
          <button class="btn" onclick="window.dispatchEvent(new KeyboardEvent('keydown',{key:'Enter'}))">Start</button>
          <button class="btn btn-ghost" onclick="window.dispatchEvent(new KeyboardEvent('keydown',{key:' '}))">Pause</button>
          <button class="btn btn-ghost" onclick="window.dispatchEvent(new KeyboardEvent('keydown',{key:'r'}))">Restart</button>
        </div>
        <div class="muted small">
          Tip: Staying clean increases combo multiplier over time.
        </div>
      </div>
    </aside>

    <!-- CENTER: GAME -->
    <section class="stage">
      <div class="stage-shell">
        <div class="stage-top">
          <div class="banner">
            <span class="badge">SECTOR</span>
            <span class="sector">NEON STRAIGHT</span>
          </div>

          <div class="overlayText">
            <div id="msg" class="msg"></div>
            <div id="submsg" class="submsg"></div>
          </div>
        </div>

        <div class="canvas-wrap">
          <canvas id="c" width="900" height="520"></canvas>
        </div>

        <!-- Mobile / touch controls -->
        <div id="touch" class="touch">
          <button data-k="left" aria-label="Left">◀</button>
          <button data-k="right" aria-label="Right">▶</button>
          <button data-k="up" aria-label="Accelerate">▲</button>
          <button data-k="down" aria-label="Brake">▼</button>
          <button data-k="nitro" class="nitro" aria-label="Nitro">NITRO</button>
        </div>
      </div>
    </section>

    <!-- RIGHT: FLAVOUR / INFO -->
    <aside class="side">
      <div class="card">
        <div class="card-title">Track Notes</div>
        <ul class="list">
          <li>Traffic spawns in 3 lanes — plan your line early.</li>
          <li>Touching the shoulder drains points; off-track damages HP.</li>
          <li>Nitro drains fuel; short bursts are strongest.</li>
        </ul>
      </div>

      <div class="card">
        <div class="card-title">About</div>
        <div class="muted small">
          RNZZ F1 Neon GP is a single-file canvas racer. No assets, no backend, best score saved locally.
        </div>
      </div>
    </aside>
  </main>

  <footer class="footer">
    <span class="muted">© RNZZ Arcade • F1 Neon GP</span>
  </footer>

  <!-- Your game JS (paste your full JS here or link to a file) -->
  <script src="game.js"></script>

  <!-- Optional: mini UI helpers for HP/Nitro bars -->
  <script>
    // If your JS is in game.js, this just mirrors displayed values into bars safely.
    // It won’t break anything if elements are missing.
    (function(){
      const hpBar = document.getElementById("hpBar");
      const nitroBar = document.getElementById("nitroBar");
      const hpEl = document.getElementById("hp");
      const nitroText = document.getElementById("nitro");

      // Polling approach keeps it simple without modifying your game code
      setInterval(() => {
        if (hpBar && hpEl) {
          const hp = Math.max(0, Math.min(100, parseInt(hpEl.textContent || "0", 10) || 0));
          hpBar.style.width = hp + "%";
        }
        // Nitro bar: if you want true fuel %, we can wire it into your JS directly.
        // For now we animate: READY=100, CD=35, BOOST=70 (looks good)
        if (nitroBar && nitroText) {
          const t = (nitroText.textContent || "").toUpperCase();
          let p = 100;
          if (t.includes("CD")) p = 35;
          else if (t.includes("BOOST")) p = 70;
          nitroBar.style.width = p + "%";
        }
      }, 120);
    })();
  </script>
</body>
</html>
